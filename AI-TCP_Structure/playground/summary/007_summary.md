PoC #007: 自律型ネゴシエーション構造のサマリー記録
1. なぜこの PoC を選定したか（背景）
AI-TCP プロジェクトの核心は、単なる AI 間でのデータ交換を超え、自律的な AI 同士が**「意図」を理解し、共有し、そして対立を解決する**能力を実証することにあります。複雑化する AI エコシステムにおいて、異なる目標や前提を持つ AI が衝突した場合、人間の介入なしにこれを調停・解決するメカ律は不可欠です。この PoC #007 は、その実現可能性を探るための極めて重要なステップとして選定されました。

2. どのようなユースケースを想定しているか
本 PoC は、以下の具体的なユースケースをシミュレートしています。

ファイル命名規則の自動合意:

迅速な開発を重視する AI (Agent A: Creative-AI) がタイムスタンプベースのファイル名を提案。

長期的な保守性を重視する AI (Agent B: Maintenance-AI) が意味論的ファイル名を提案。

中立的な調停 AI (Agent C: Mediator-AI) が、両者の提案を分析し、最適なハイブリッド案を提示し合意を形成します。

リソース配分の動的調整: 限られた計算リソースを複数の AI タスク間でどのように配分するかを、AI 同士が交渉・合意するシナリオ。

ポリシー適用の競合解決: 複数の自動化ポリシーが特定の条件下で競合した場合、どのポリシーを優先するかを AI 同士が調停するシナリオ。

3. 技術的に重要な設計ポイント
3.1. AI 間意図の仲介・合意形成
Graph Payload (RFC 004) の活用: 各 AI が自身の提案や意図を Mermaid グラフとして構造化し、これを AI-TCP パケットのペイロードとして交換します。これにより、抽象的な概念や関係性が視覚的に伝達され、他の AI が解釈・理解できるようになります。

シグナルフレーム (RFC 016) の使用: 対立発生時には、Mediator-AI が interrupt シグナルを発行してプロセスを一時停止させ、調停を行います。合意形成後には ack シグナルで完了を通知します。

観測カプセル (RFC 017) の導入: 交渉プロセス全体を第三者視点（Meta Observer Log）から記録し、合意形成に至るまでの思考プロセスと意思決定の連鎖を追跡可能にします。

3.2. 検証層の確立
双方向変換テスト: Mermaid グラフ ↔ 自然言語ナラティブ ↔ YAML 構造という双方向変換の精度を検証することで、AI-TCP を介した「意図」伝達の正確性と損失の有無を確認します。

多段階のログ記録: 交渉の各段階（提案、対立、調停、合意）を詳細なログ（HTML、Mermaid グラフ、サマリー）として記録し、後からの監査と分析を可能にします。

4. 現時点での実装到達点と未完了点
到達点
Graph Payload の実装: intent_007.yaml から graph_payload_007.mmd.md への Mermaid グラフ生成が可能です。これにより、AI の意図を視覚的に構造化する基盤が確立しました。

Mermaid → 自然言語変換: Mermaid グラフから自然言語による解説文を生成する能力が検証されており、AI が視覚情報を意味的に解釈できることが確認されています。

基本的なネゴシエーションフローのシミュレート: Agent A, B, Mediator C の間の単純な提案、対立、調停、合意のサイクルがシミュレートされ、そのログが HTML および Mermaid 形式で記録されました。

未完了点と今後の課題
自動化された検証プロセスの強化: 現在の検証はまだ手動での確認が多く、より大規模なデータセットや複雑なシナリオに対応するためには、Mermaid と YAML の整合性を自動的にチェックするツール（例: validate_graph_vs_yaml.go のようなスクリプト）の開発が必要です。

外部 LLM との統合: PoC の次の段階として、Gemma 3 のような外部 LLM を交渉エージェントとして実際に組み込み、AI-TCP を介したリアルタイムの交渉シミュレーションを実施する必要があります。

複雑な対立解決ロジックの実装: 現状は比較的単純な合意形成ですが、より多角的な利害対立や、複数の解決策からの最適解選択といった複雑な調停ロジックを実装する必要があります。

長期的なセッション管理: 複数の交渉ラウンドにわたるセッション継続性や、過去の交渉履歴に基づく意思決定を組み込む必要があります。

最終更新日: 2025-06-25